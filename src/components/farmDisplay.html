<div id="farmDisplay" class="card sortable border-secondary mb-3" data-bind="visible: App.game.farming.canAccess() && Settings.getSetting('showFarmModule').observableValue(), if: Settings.getSetting('showFarmModule').observableValue()">
    <div class="card-header p-0" data-toggle="collapse" href="#plotListCard">
        <span>Farm</span>
    </div>
    <button class='btn btn-sm btn-primary' style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;" onclick="FarmController.openFarmModal()">
        View
    </button>
    <div class="dropdown" style="position: absolute; left: 0px; top: 0px;">
        <button class='btn btn-sm btn-primary dropdown-toggle dropdown-toggle-no-arrow' style="width: auto; height: 41px;" data-toggle="dropdown"
            data-bind="tooltip: {title: App.game.farming.unlockedBerries[FarmController.selectedBerry()]() ? BerryType[FarmController.selectedBerry()] : '???', trigger: 'hover', placement: 'right'}">
            <img src="" alt="selected berry image" height="28px" data-bind="attr:{ src: FarmController.getBerryImage(FarmController.selectedBerry()) },
                css: {'berryLocked': !App.game.farming.unlockedBerries[FarmController.selectedBerry()]() }">
        </button>
        <div class="dropdown-menu" style="max-height: 275px; overflow-y: auto;"
            data-bind="foreach: GameHelper.enumNumbers(BerryType).filter(b => App.game.farming.unlockedBerries[b]?.())">
            <button class="dropdown-item d-flex small px-3" type="button"
                data-bind="click: () => FarmController.selectedBerry($data), css: { 'active': FarmController.selectedBerry() === $data }">
                <knockout class="flex-grow-1" data-bind="text: BerryType[$data]"></knockout>
                <knockout data-bind="text: App.game.farming.berryList[$data]() >= 1e6
                    ? GameConstants.formatNumber(App.game.farming.berryList[$data]())
                    : App.game.farming.berryList[$data]().toLocaleString('en-US')"></knockout>
            </button>
        </div>
    </div>
    <div id="plotListCard" class="card-body p-0 px-2 show" data-bind="css: { ShiftPressed: GameController.keyHeld.Shift() }">
      <div class="row py-1" data-bind="foreach: App.game.farming.plotList">
        <!-- ko if: $index() % GameConstants.FARM_PLOT_WIDTH == 0 -->
        <div class="w-100"></div>
        <!-- /ko -->
        <div class="plot col" data-bind="css: { plotLocked : !$data.isUnlocked }">
            <div class="plot-content BerrySelected">
                <div class="plotImage">
                    <img style="width: 100%" src="assets/images/farm/soil.png"
                        data-bind="class: FarmController.calcMulchClass($data)">
                    <!-- ko if: $data.isSafeLocked -->
                    <img class ="plotSafeLockIcon" src= "assets/images/farm/plotSafeLock.svg" >
                    <!-- /ko -->
                    <!-- ko if: !$data.isUnlocked -->
                    <div class="plotButton plotLockHover" data-bind="tooltip: {
                      title: `Unlock this plot in the Farm`,
                      placement: 'bottom',
                      trigger: 'hover'
                    }" onclick="FarmController.openFarmModal()">
                      <img alt="lock" class="lock" src="assets/images/breeding/lock.svg">
                    </div>
                    <!-- /ko -->
                    <!-- ko if: $data.isUnlocked -->
                    <div class="plotButton"
                      data-bind="ifnot: $data.isEmpty(),
                      click: function(data, event){FarmController.plotClickMini($index(), event)},
                      tooltip: {title: $data.tooltip(), trigger: 'hover', animation: false, html: true}">
                      <img width="100%" height="100%" src=""
                          style="width: 68.75%; max-height: 100%; image-rendering: pixelated;"
                          data-bind="attr:{ src: FarmController.getImage($index())}">
                    </div>
                    <!-- /ko -->
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="card-footer p-0">
      <button type="button" class="btn float-left"
      data-bind="visible: FarmController.additionalInfoTooltip().length !== 0,
      tooltip: {
          title: FarmController.additionalInfoTooltip(),
          trigger: 'hover',
          placement:'top',
          html: true,
      }">â“˜</button>
    <knockout class="float-right pr-2 pt-1" data-bind="foreach: App.game.farming.farmHands.hired()">
      <img class="pixelated" src="" height="24px" data-bind="attr:{ src: `assets/images/profile/trainer-${$data.trainerSprite}.png` },
      tooltip: {
          title: $data.tooltip(),
          trigger: 'hover',
          placement:'top',
          html: true,
      }">
    </div>
</div>
